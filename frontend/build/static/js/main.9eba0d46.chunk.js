(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{50:function(t,e,n){},72:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),o=n(20),r=n.n(o),s=n(17),i=n(6),u=n(39),l={buckets:[],bucketName:[],editingItem:{},todos:[],todo:{},loading:!0},d=n(23),p=n(2),b="ADD_BUCKET",j="ADD_TODO",f="GET_TODO",O="GET_BUCKETS",h="GET_TODOS",m="UPDATE_TODO",v="DELETE_TODO",x="FILTERED_TODO",k="DELETE_BUCKET",g=function(t,e){var n=e.payload;switch(console.log(n),e.type){case b:return Object(p.a)(Object(p.a)({},t),{},{buckets:[].concat(Object(d.a)(t.buckets),[n])});case O:return Object(p.a)(Object(p.a)({},t),{},{buckets:n,loading:!1});case h:return Object(p.a)(Object(p.a)({},t),{},{todos:n,loading:!1});case j:return Object(p.a)(Object(p.a)({},t),{},{todos:[].concat(Object(d.a)(t.todos),[n])});case f:return Object(p.a)(Object(p.a)({},t),{},{todo:n,loading:!1});case m:return Object(p.a)(Object(p.a)({},t),{},{todos:t.todos.map((function(t){return t._id===n.todoId?Object(p.a)(Object(p.a)({},t),{},{todos:n.todos}):t})),loading:!1});case x:return Object(p.a)(Object(p.a)({},t),{},{todos:n,loading:!1});case v:return Object(p.a)(Object(p.a)({},t),{},{todos:t.todos.filter((function(t){return t._id!==n})),loading:!1});case k:return Object(p.a)(Object(p.a)({},t),{},{buckets:t.buckets.filter((function(t){return t._id!==n})),todos:t.todos.filter((function(t){return t.bucketId!==n})),todo:{},loading:!1});case"ADD_TASK":var a={value:e.payload.value,completed:!1,bucketName:e.payload.bucketName};return Object(p.a)(Object(p.a)({},t),{},{items:[].concat(Object(d.a)(t.items),[a])});case"CANCEL_EDIT_TASK":return t.items.length?Object(p.a)(Object(p.a)({},t),{},{editingItem:{}}):Object(p.a)({},t);case"DELETE_TASK":var c=t.items.filter((function(t){return t.id!==e.payload.id}));return Object(p.a)(Object(p.a)({},t),{},{items:c});case"EDIT_TASK":var o=t.items.map((function(t){return t.id===e.payload.modifiedItem.id&&(t.value=e.payload.modifiedItem.value),t}));return Object(p.a)(Object(p.a)({},t),{},{items:o,editingItem:{}});case"COMPLETE_TASK":var r=t.items.map((function(t){if(t.id===e.payload.modifiedItem.id){var n=Object(p.a)({},t);return n.completed=!n.completed,n}return t}));return Object(p.a)(Object(p.a)({},t),{},{items:r});case"SELECT_EDIT_TASK":var s=t.items.find((function(t){return t.id===e.payload.id}));return Object(p.a)(Object(p.a)({},t),{},{editingItem:s});default:return t}},y=Object(u.a)(l,g),T=n(40),w=n(41),E=(n(50),n(11)),_=n(4),C=n(15),N=n(5),D=n.n(N),S=n(13),I=n(14),A=n.n(I),B=n(1),K=Object(i.b)("",{addBucket:function(t){return function(){var e=Object(S.a)(D.a.mark((function e(n){var a,c,o;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("bucketItem",t),a={headers:{"Content-Type":"application/json"}},c={title:t},e.prev=3,e.next=6,A.a.post("/api/bucket",c,a);case 6:o=e.sent,n({type:b,payload:o.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()}})((function(t){var e=t.addBucket,n=c.a.useState(""),a=Object(C.a)(n,2),o=a[0],r=a[1];return Object(B.jsx)(B.Fragment,{children:Object(B.jsx)("form",{onSubmit:function(t){t.preventDefault(),e(o),r("")},children:Object(B.jsx)("input",{className:"text-input new-task-text-input",autoComplete:"off",name:"title",placeholder:"Create your bucket?",label:"Title",value:o,onChange:function(t){r(t.target.value)}})})})})),L=Object(i.b)("",{deleteBucket:function(t){return function(){var e=Object(S.a)(D.a.mark((function e(n){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.delete("/api/bucket/".concat(t));case 3:n({type:k,payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}})((function(t){var e=t.deleteBucket,n=t.bucket;return Object(B.jsxs)("li",{className:"task-list-item",children:[Object(B.jsx)(E.b,{to:"/bucket/".concat(n._id,"/todos"),children:Object(B.jsx)("div",{className:"task-list-item-title",children:n.title})}),Object(B.jsx)("button",{className:"task-list-item-delete",onClick:function(t){return a=n._id,console.log(a),alert("Are you sure you want to delete the bucket? Deleting the Bucket will also delete Todos"),void e(a);var a},children:"\xd7"})]},n.id)})),F=Object(i.b)((function(t){return{buckets:t.buckets}}),{getBucket:function(){return function(){var t=Object(S.a)(D.a.mark((function t(e){var n;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.a.get("/api/buckets");case 3:n=t.sent,e({type:O,payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(t){var e=t.getBucket,n=t.buckets;return c.a.useEffect((function(){e()}),[e]),Object(B.jsx)("ul",{className:"task-list",children:n.map((function(t){return Object(B.jsx)(L,{bucket:t},t._id)}))})})),U=function(){return Object(B.jsxs)("div",{className:"page",children:[Object(B.jsx)(K,{}),Object(B.jsx)(F,{})]})},G=Object(i.b)("",{updateTodo:function(t,e,n){return function(){var a=Object(S.a)(D.a.mark((function a(c){var o,r,s;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("title",t),o={headers:{"Content-Type":"application/json"}},r={title:t},a.prev=3,a.next=6,A.a.patch("/api/todo/".concat(e),r,o);case 6:s=a.sent,c({type:m,payload:s.data}),n.goBack(),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(3),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[3,11]])})));return function(t){return a.apply(this,arguments)}}()}})(Object(_.e)((function(t){var e=t.updateTodo,n=t.todo,a=t.history,o=c.a.useState(""),r=Object(C.a)(o,2),s=r[0],i=r[1];return Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(s,n._id,a),i("")},children:[Object(B.jsx)("input",{className:"text-input new-task-text-input",autoComplete:"off",name:"title",placeholder:"What would you like to get done?",label:"Title",defaultValue:n.title,onChange:function(t){i(t.target.value)}}),Object(B.jsx)("p",{children:Object(B.jsx)("button",{type:"submit",className:"button",children:"Save"})})]})})}))),M=Object(i.b)((function(t){return{todo:t.todo}}),{getTodo:function(t){return function(){var e=Object(S.a)(D.a.mark((function e(n){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/api/todo/".concat(t));case 3:a=e.sent,n({type:f,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})((function(t){var e=t.getTodo,n=t.todo,a=t.match;return console.log(n,"todo"),c.a.useEffect((function(){e(a.params.id)}),[e,a.params.id]),n?Object(B.jsx)("div",{className:"page",children:Object(B.jsx)(G,{todo:n,history:a.history})}):Object(B.jsx)("p",{children:"There are no todos here"})})),W=Object(i.b)("",{changeStatus:function(t,e){return function(){var n=Object(S.a)(D.a.mark((function n(a){var c,o,r;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{"Content-Type":"application/json"}},o={completed:t},n.prev=2,n.next=5,A.a.patch("/api/todo/status/".concat(e),o,c);case 5:r=n.sent,a({type:m,payload:{todoId:e,todos:r.data}}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(t){return n.apply(this,arguments)}}()},deleteTodo:function(t){return function(){var e=Object(S.a)(D.a.mark((function e(n){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.delete("/api/todo/".concat(t));case 3:n({type:v,payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}})((function(t){var e=t.changeStatus,n=t.deleteTodo,a=t.todo,o=c.a.useState(a.completed),r=Object(C.a)(o,2),s=r[0],i=r[1];return Object(B.jsxs)("li",{className:"task-list-item",children:[Object(B.jsxs)("label",{className:"checkbox",children:[Object(B.jsx)("input",{onChange:function(t){i(t.target.checked),e(t.target.checked,a._id)},checked:s,type:"checkbox"}),Object(B.jsx)("span",{className:"checkbox-mark",children:"\u2713"})]}),Object(B.jsx)(E.b,{to:"/todo/".concat(a._id),children:Object(B.jsx)("div",{className:"task-list-item-title",children:a.title})}),Object(B.jsx)("button",{onClick:function(){return t=a._id,void n(t);var t},className:"task-list-item-delete",children:"\xd7"})]},a._id)})),J=Object(i.b)("",{addTodo:function(t,e){return function(){var n=Object(S.a)(D.a.mark((function n(a){var c,o,r;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("todoItem",t),c={headers:{"Content-Type":"application/json"}},o={title:t},n.prev=3,n.next=6,A.a.post("/api/bucket/".concat(e,"/todo"),o,c);case 6:r=n.sent,a({type:j,payload:r.data}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[3,10]])})));return function(t){return n.apply(this,arguments)}}()}})((function(t){var e=t.addTodo,n=t.bucketid;console.log(n);var a=c.a.useState(""),o=Object(C.a)(a,2),r=o[0],s=o[1];return Object(B.jsx)(B.Fragment,{children:Object(B.jsx)("form",{onSubmit:function(t){t.preventDefault(),e(r,n),s("")},children:Object(B.jsx)("input",{className:"text-input new-task-text-input",autoComplete:"off",name:"title",placeholder:"What would you like to get done?",label:"Title",value:r,onChange:function(t){s(t.target.value)}})})})})),P=Object(i.b)("",{filteredTodo:function(t,e){return function(){var n=Object(S.a)(D.a.mark((function n(a){var c,o,r;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("filter",t),c={headers:{"Content-Type":"application/json"}},o={filter:t},n.prev=3,n.next=6,A.a.post("/api/bucket/filter/".concat(e,"/todos"),o,c);case 6:r=n.sent,a({type:x,payload:r.data}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[3,10]])})));return function(t){return n.apply(this,arguments)}}()}})((function(t){var e=t.filteredTodo,n=t.bucketid;console.log(n);var a=function(t,a){e(a,n)};return Object(B.jsxs)("ul",{className:"task-filter",children:[Object(B.jsx)("li",{children:Object(B.jsx)("button",{className:"task-filter-active",onClick:function(t){return a(0,"all")},children:"All"})}),Object(B.jsx)("li",{children:Object(B.jsx)("button",{className:"task-filter-active",onClick:function(t){return a(0,"active")},children:"Active"})}),Object(B.jsx)("li",{children:Object(B.jsx)("button",{className:"task-filter-active",onClick:function(t){return a(0,"completed")},children:"Completed"})})]})})),R=Object(i.b)((function(t){return{todos:t.todos}}),{getTodos:function(t){return function(){var e=Object(S.a)(D.a.mark((function e(n){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/api/bucket/".concat(t,"/todos"));case 3:a=e.sent,n({type:h,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})((function(t){var e=t.getTodos,n=t.todos,a=t.match;return c.a.useEffect((function(){e(a.params.id)}),[e,a.params.id]),Object(B.jsxs)("div",{className:"page",children:[Object(B.jsx)(J,{bucketid:a.params.id}),Object(B.jsx)("ul",{className:"task-list",children:n.map((function(t){return Object(B.jsx)(W,{todo:t},t._id)}))}),Object(B.jsx)(P,{bucketid:a.params.id})]})}));var V=function(){return Object(B.jsxs)(E.a,{children:[Object(B.jsx)(E.b,{to:"/",children:Object(B.jsx)("div",{className:"logo",children:Object(B.jsx)("img",{src:"/logo.jpg",alt:"Logo"})})}),Object(B.jsx)(_.a,{path:"/",component:U,exact:!0}),Object(B.jsx)(_.a,{path:"/bucket/:id/todos",component:R,exact:!0}),Object(B.jsx)(_.a,{path:"/todo/:id",component:M,exact:!0})]})},q=[T.a],z=Object(s.createStore)(y,Object(w.composeWithDevTools)(s.applyMiddleware.apply(void 0,q)));r.a.render(Object(B.jsx)(c.a.StrictMode,{children:Object(B.jsx)(i.a,{store:z,children:Object(B.jsx)(V,{})})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.9eba0d46.chunk.js.map